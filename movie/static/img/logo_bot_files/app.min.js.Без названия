!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var o=n(1),a={};for(var i in o)o.hasOwnProperty(i)&&(a[o[i]]=i);var l=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in l)if(l.hasOwnProperty(r)){if(!("channels"in l[r]))throw new Error("missing channels property: "+r);if(!("labels"in l[r]))throw new Error("missing channel labels property: "+r);if(l[r].labels.length!==l[r].channels)throw new Error("channel and label counts mismatch: "+r);var s=l[r].channels,c=l[r].labels;delete l[r].channels,delete l[r].labels,Object.defineProperty(l[r],"channels",{value:s}),Object.defineProperty(l[r],"labels",{value:c})}l.rgb.hsl=function(t){var e,n,o=t[0]/255,a=t[1]/255,i=t[2]/255,l=Math.min(o,a,i),r=Math.max(o,a,i),s=r-l;return r===l?e=0:o===r?e=(a-i)/s:a===r?e=2+(i-o)/s:i===r&&(e=4+(o-a)/s),(e=Math.min(60*e,360))<0&&(e+=360),n=(l+r)/2,[e,100*(r===l?0:n<=.5?s/(r+l):s/(2-r-l)),100*n]},l.rgb.hsv=function(t){var e,n,o=t[0],a=t[1],i=t[2],l=Math.min(o,a,i),r=Math.max(o,a,i),s=r-l;return n=0===r?0:s/r*1e3/10,r===l?e=0:o===r?e=(a-i)/s:a===r?e=2+(i-o)/s:i===r&&(e=4+(o-a)/s),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,r/255*1e3/10]},l.rgb.hwb=function(t){var e=t[0],n=t[1],o=t[2];return[l.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,o))*100,100*(o=1-1/255*Math.max(e,Math.max(n,o)))]},l.rgb.cmyk=function(t){var e,n=t[0]/255,o=t[1]/255,a=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-o,1-a)))/(1-e)||0),100*((1-o-e)/(1-e)||0),100*((1-a-e)/(1-e)||0),100*e]},l.rgb.keyword=function(t){var e=a[t];if(e)return e;var n,i,l,r=1/0;for(var s in o)if(o.hasOwnProperty(s)){var c=(i=t,l=o[s],Math.pow(i[0]-l[0],2)+Math.pow(i[1]-l[1],2)+Math.pow(i[2]-l[2],2));c<r&&(r=c,n=s)}return n},l.keyword.rgb=function(t){return o[t]},l.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,o=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92)),100*(.2126*e+.7152*n+.0722*o),100*(.0193*e+.1192*n+.9505*o)]},l.rgb.lab=function(t){var e=l.rgb.xyz(t),n=e[0],o=e[1],a=e[2];return o/=100,a/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116)-16,500*(n-o),200*(o-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},l.hsl.rgb=function(t){var e,n,o,a,i,l=t[0]/360,r=t[1]/100,s=t[2]/100;if(0===r)return[i=255*s,i,i];e=2*s-(n=s<.5?s*(1+r):s+r-s*r),a=[0,0,0];for(var c=0;c<3;c++)(o=l+1/3*-(c-1))<0&&o++,o>1&&o--,i=6*o<1?e+6*(n-e)*o:2*o<1?n:3*o<2?e+(n-e)*(2/3-o)*6:e,a[c]=255*i;return a},l.hsl.hsv=function(t){var e=t[0],n=t[1]/100,o=t[2]/100,a=n,i=Math.max(o,.01);return n*=(o*=2)<=1?o:2-o,a*=i<=1?i:2-i,[e,100*(0===o?2*a/(i+a):2*n/(o+n)),(o+n)/2*100]},l.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,o=t[2]/100,a=Math.floor(e)%6,i=e-Math.floor(e),l=255*o*(1-n),r=255*o*(1-n*i),s=255*o*(1-n*(1-i));switch(o*=255,a){case 0:return[o,s,l];case 1:return[r,o,l];case 2:return[l,o,s];case 3:return[l,r,o];case 4:return[s,l,o];case 5:return[o,l,r]}},l.hsv.hsl=function(t){var e,n,o,a=t[0],i=t[1]/100,l=t[2]/100,r=Math.max(l,.01);return o=(2-i)*l,n=i*r,[a,100*(n=(n/=(e=(2-i)*r)<=1?e:2-e)||0),100*(o/=2)]},l.hwb.rgb=function(t){var e,n,o,a,i,l,r,s=t[0]/360,c=t[1]/100,d=t[2]/100,u=c+d;switch(u>1&&(c/=u,d/=u),n=1-d,o=6*s-(e=Math.floor(6*s)),0!=(1&e)&&(o=1-o),a=c+o*(n-c),e){default:case 6:case 0:i=n,l=a,r=c;break;case 1:i=a,l=n,r=c;break;case 2:i=c,l=n,r=a;break;case 3:i=c,l=a,r=n;break;case 4:i=a,l=c,r=n;break;case 5:i=n,l=c,r=a}return[255*i,255*l,255*r]},l.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,o=t[2]/100,a=t[3]/100;return[255*(1-Math.min(1,e*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,o*(1-a)+a))]},l.xyz.rgb=function(t){var e,n,o,a=t[0]/100,i=t[1]/100,l=t[2]/100;return n=-.9689*a+1.8758*i+.0415*l,o=.0557*a+-.204*i+1.057*l,e=(e=3.2406*a+-1.5372*i+-.4986*l)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(o=Math.min(Math.max(0,o),1))]},l.xyz.lab=function(t){var e=t[0],n=t[1],o=t[2];return n/=100,o/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},l.lab.xyz=function(t){var e,n,o,a=t[0],i=t[1],l=t[2];e=i/500+(n=(a+16)/116),o=n-l/200;var r=Math.pow(n,3),s=Math.pow(e,3),c=Math.pow(o,3);return n=r>.008856?r:(n-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,[e*=95.047,n*=100,o*=108.883]},l.lab.lch=function(t){var e,n=t[0],o=t[1],a=t[2];return(e=360*Math.atan2(a,o)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(o*o+a*a),e]},l.lch.lab=function(t){var e,n=t[0],o=t[1];return e=t[2]/360*2*Math.PI,[n,o*Math.cos(e),o*Math.sin(e)]},l.rgb.ansi16=function(t){var e=t[0],n=t[1],o=t[2],a=1 in arguments?arguments[1]:l.rgb.hsv(t)[2];if(0===(a=Math.round(a/50)))return 30;var i=30+(Math.round(o/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===a&&(i+=60),i},l.hsv.ansi16=function(t){return l.rgb.ansi16(l.hsv.rgb(t),t[2])},l.rgb.ansi256=function(t){var e=t[0],n=t[1],o=t[2];return e===n&&n===o?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(o/255*5)},l.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},l.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},l.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},l.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var o=parseInt(n,16);return[o>>16&255,o>>8&255,255&o]},l.rgb.hcg=function(t){var e,n=t[0]/255,o=t[1]/255,a=t[2]/255,i=Math.max(Math.max(n,o),a),l=Math.min(Math.min(n,o),a),r=i-l;return e=r<=0?0:i===n?(o-a)/r%6:i===o?2+(a-n)/r:4+(n-o)/r+4,e/=6,[360*(e%=1),100*r,100*(r<1?l/(1-r):0)]},l.hsl.hcg=function(t){var e,n=t[1]/100,o=t[2]/100,a=0;return(e=o<.5?2*n*o:2*n*(1-o))<1&&(a=(o-.5*e)/(1-e)),[t[0],100*e,100*a]},l.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,o=e*n,a=0;return o<1&&(a=(n-o)/(1-o)),[t[0],100*o,100*a]},l.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,o=t[2]/100;if(0===n)return[255*o,255*o,255*o];var a,i=[0,0,0],l=e%1*6,r=l%1,s=1-r;switch(Math.floor(l)){case 0:i[0]=1,i[1]=r,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=r;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=r,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return a=(1-n)*o,[255*(n*i[0]+a),255*(n*i[1]+a),255*(n*i[2]+a)]},l.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),o=0;return n>0&&(o=e/n),[t[0],100*o,100*n]},l.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,o=0;return n>0&&n<.5?o=e/(2*n):n>=.5&&n<1&&(o=e/(2*(1-n))),[t[0],100*o,100*n]},l.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},l.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,o=n-e,a=0;return o<1&&(a=(n-o)/(1-o)),[t[0],100*o,100*a]},l.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},l.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},l.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},l.gray.hsl=l.gray.hsv=function(t){return[0,0,t[0]]},l.gray.hwb=function(t){return[0,100,t[0]]},l.gray.cmyk=function(t){return[0,0,0,t[0]]},l.gray.lab=function(t){return[t[0],0,0]},l.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},l.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){"use strict";var o=n(10),a=n(7),i=[].slice,l=["keyword","gray","hex"],r={};Object.keys(a).forEach(function(t){r[i.call(a[t].labels).sort().join("")]=t});var s={};function c(t,e){if(!(this instanceof c))return new c(t,e);if(e&&e in l&&(e=null),e&&!(e in a))throw new Error("Unknown model: "+e);var n,d;if(void 0===t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof c)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var u=o.get(t);if(null===u)throw new Error("Unable to parse color from string: "+t);this.model=u.model,d=a[this.model].channels,this.color=u.value.slice(0,d),this.valpha="number"==typeof u.value[d]?u.value[d]:1}else if(t.length){this.model=e||"rgb",d=a[this.model].channels;var h=i.call(t,0,d);this.color=f(h,d),this.valpha="number"==typeof t[d]?t[d]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var p=Object.keys(t);"alpha"in t&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=p.sort().join("");if(!(g in r))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=r[g];var m=a[this.model].labels,v=[];for(n=0;n<m.length;n++)v.push(t[m[n]]);this.color=f(v)}if(s[this.model])for(d=a[this.model].channels,n=0;n<d;n++){var b=s[this.model][n];b&&(this.color[n]=b(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function d(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(s[t]||(s[t]=[]))[e]=n}),t=t[0],function(o){var a;return arguments.length?(n&&(o=n(o)),(a=this[t]()).color[e]=o,a):(a=this[t]().color[e],n&&(a=n(a)),a)}}function u(t){return function(e){return Math.max(0,Math.min(t,e))}}function f(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in o.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return o.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return o.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=a[this.model].channels,n=a[this.model].labels,o=0;o<e;o++)t[n[o]]=this.color[o];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new c(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:d("rgb",0,u(255)),green:d("rgb",1,u(255)),blue:d("rgb",2,u(255)),hue:d(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:d("hsl",1,u(100)),lightness:d("hsl",2,u(100)),saturationv:d("hsv",1,u(100)),value:d("hsv",2,u(100)),chroma:d("hcg",1,u(100)),gray:d("hcg",2,u(100)),white:d("hwb",1,u(100)),wblack:d("hwb",2,u(100)),cyan:d("cmyk",0,u(100)),magenta:d("cmyk",1,u(100)),yellow:d("cmyk",2,u(100)),black:d("cmyk",3,u(100)),x:d("xyz",0,u(100)),y:d("xyz",1,u(100)),z:d("xyz",2,u(100)),l:d("lab",0,u(100)),a:d("lab",1),b:d("lab",2),keyword:function(t){return arguments.length?new c(t):a[this.model].keyword(this.color)},hex:function(t){return arguments.length?new c(t):o.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var o=t[n]/255;e[n]=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return c.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){var n=t.rgb(),o=this.rgb(),a=void 0===e?.5:e,i=2*a-1,l=n.alpha()-o.alpha(),r=((i*l==-1?i:(i+l)/(1+i*l))+1)/2,s=1-r;return c.rgb(r*n.red()+s*o.red(),r*n.green()+s*o.green(),r*n.blue()+s*o.blue(),n.alpha()*a+o.alpha()*(1-a))}},Object.keys(a).forEach(function(t){if(-1===l.indexOf(t)){var e=a[t].channels;c.prototype[t]=function(){if(this.model===t)return new c(this);if(arguments.length)return new c(arguments,t);var n,o="number"==typeof arguments[e]?e:this.valpha;return new c((n=a[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(o),t)},c[t]=function(n){return"number"==typeof n&&(n=f(i.call(arguments),e)),new c(n,t)}}}),t.exports=c},function(t,e,n){"use strict";n.r(e),n(17);var o=t=>JSON.parse(JSON.stringify(t)),a=t=>{let e,n,o,a=[];for(e in t)if(t.hasOwnProperty(e))if("object"==typeof(n=t[e]))for(o in n)a.push({key:e+"."+o,val:n[o]});else a.push({key:e,val:t[e]});return a},i=t=>{let e,n=window.location.search.substring(1).split("&");for(let o=0;o<n.length;o++)if((e=n[o].split("="))[0]==t)return e[1];return!1};let l=(t,e)=>{let n,o,a,i,l,r,s,c=t.getContext("2d"),d=c.getImageData(0,0,t.width,t.height),u=document.createElement("canvas"),f=u.getContext("2d"),h={top:null,left:null,right:null,bottom:null};for(n=0;n<d.data.length;n+=4)0!==d.data[n+3]&&(o=n/4%t.width,a=~~(n/4/t.width),null===h.top&&(h.top=a),null===h.left?h.left=o:o<h.left&&(h.left=o),null===h.right?h.right=o:h.right<o&&(h.right=o),null===h.bottom?h.bottom=a:h.bottom<a&&(h.bottom=a));return l=h.bottom-h.top+1,i=h.right-h.left+1,r=c.getImageData(h.left,h.top,i,l),e?(s=Math.max(i,l),u.width=s,u.height=s,f.putImageData(r,Math.round((s-i)/2),Math.round((s-l)/2))):(u.width=i,u.height=l,f.putImageData(r,0,0)),u.toDataURL()};var r,s,c=n(2),d={colorSelected:()=>{},colorDismiss:()=>{},gradientSelected:()=>{},gradientDismiss:()=>{},fontSelected:()=>{},fontDismiss:()=>{},imageSelected:()=>{},imageDismiss:()=>{}},u=()=>{var t=$("body"),e=$(".range-tip");$.getJSON("json/icons.json?v="+Math.random(),function(t){var e,n=$("#image-categories"),o=$("#image-lists");t.forEach(function(t){let e=t[1].split("|"),a=t[0],i=e[0],l=$(`<option value="${a}">${i}</option>`).appendTo(n),r=$(`<div class="image-list" data-cat="${a}"></div>`).appendTo(o);e[1]&&r.addClass(e[1]),e[2]&&l.attr("style",e[2])}),e=n,$(e).html($(e).children("option").sort(function(t,e){return $(t).text().toUpperCase()<$(e).text().toUpperCase()?-1:1})),$(e).get(0).selectedIndex=0,n.trigger("change")}).fail(function(){U("Ошибка загрузки картинок","danger")}),t.on("click",".control[data-type='image']",function(){let t=$(this).data("key");_("#sidebar-images"),d.imageSelected=(e=>{j(t.split(".")[0]+".palette",[]),j(t,e),S(["icon.fillEnabled","icon.hue","icon.brightness","icon.saturation","icon.opacity"])})}),t.on("change","#image-categories",function(){let t=$(this).val(),e=$(`.image-lists .image-list[data-cat='${t}']`);e.addClass("on").siblings().removeClass("on"),e.attr("loaded")||$.getJSON(`icons/${t}/sprite.json?v=`+Math.random(),function(n){n.forEach(function(n){let o=n[0].replace(".svg",""),a=n[1],i=n[2];e.append(`<div class="image-col"><div class="image-col-inner"><div class="image" style="background-image:url(icons/sprite-${t}.png); background-position: ${a}px ${i}px;" data-filename="${o}"></div></div>`)}),setTimeout(function(){e.attr("loaded","yes")},300)}).fail(function(){U("Ошибка загрузки списка картинок","danger")})}),t.on("click",".image-list .image",function(){$(".image-list .image").removeClass("on"),$(this).addClass("on")}),t.on("click","#sidebar-images .accept",function(){let t=$(".image-list.on .image.on");if(t.length){let e="icons/"+t.parents(".image-list").data("cat")+"/"+t.data("filename")+".svg";d.imageSelected(e)}_(!1)}),t.on("click",".control[data-type='layout'] button",function(){let t=$(this);j("layout",t.data("layout")),S(["icon.angle","icon.skewX","icon.skewY","icon.xOffset","icon.yOffset","title.angle","title.skewX","title.skewY","title.xOffset","title.yOffset","slogan.angle","slogan.skewX","slogan.skewY","slogan.xOffset","slogan.yOffset"])}),t.on("click",".control[data-type='canvas-size']",function(){let t=M("canvasSize");L({content:A.changeCanvasSize,cancel:!0,okClose:!1,onOk:function(){let t=$("input[name='canvas-w']").val(),e=$("input[name='canvas-h']").val();t>=50&&e>=50&&t<=2e3&&e<=2e3?(j("canvasSize",t+","+e),L(!1)):U("Размеры должны быть не менее 50 x 50 и не более 2000 x 2000","danger")}}),$("input[name='canvas-w']").val(t.split(",")[0]),$("input[name='canvas-h']").val(t.split(",")[1])}),t.on("click",".control[data-type='text-align'] div",function(){let t=$(this).parent().data("key"),e=$(this).data("val");j(t,e)});let n=A.emoji.split(" ");$(".insert-emoji-list").each(function(){for(let t=0;t<n.length;t++)$(this).append(`<span>${n[t]}</span>`)}),t.on("click",".textarea-emoji",function(){$(this).parents(".options-tab-content").find(".insert-emoji").slideToggle()}),t.on("click",".insert-emoji-close",function(){$(this).parent().slideUp()}),t.on("click",".insert-emoji-list span",function(){let t=document.createRange();t.selectNode($(this)[0]),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges(),$(this).addClass("on").siblings().removeClass("on"),U("Скопировано в буфер обмена","info")}),t.on("input propertychange",".control[data-type='textarea'] textarea",function(){let t=$(this).parent(),e=t.data("key"),n=$(this).val().toString();"slogan.text"==e&&(""==n.trim()?j("slogan.enabled",!1):j("slogan.enabled",!0)),t.data("user-touched",!0),j(e,n)}),$(".control[data-type='range'] input").each(function(){$(this).data("default",$(this).val())}),t.on("input",".control[data-type='range'] input",function(){let t=$(this).parent(),n=t.data("key"),o=parseFloat($(this).val());e.text($(this).attr("title")+" "+o),t.data("user-touched",!0),j(n,o)}),t.on("mouseenter",".control[data-type='range'] input",function(){let t=$(this).parent(),n=t.offset().left+t.width()+5,o=t.offset().top;e.css("left",n).css("top",o).text($(this).attr("title")+" "+$(this).val()).addClass("on")}),t.on("mouseleave",".control[data-type='range'] input",function(){e.removeClass("on")}),t.on("click",".control[data-type='range'] .spr24",function(){let t=$(this).parent(),e=t.children("input");e.val(e.data("default")),j(t.data("key"),parseFloat(e.val()))}),t.on("click",".control[data-type='check']",function(){let t,e,n=$(this).data("values").split("/");for(e=0;e<n.length;e++)"true"==n[e]&&(n[e]=!0),"false"==n[e]&&(n[e]=!1);t=$(this).attr("checked")?n[1]:n[0],j($(this).data("key"),t)}),$.getJSON("json/colors.json",function(t){t.forEach(function(t){$("#colors-list").append(`<div class="color-col"><div class="color" data-color="${t}" style="background-color:${t}"></div></div>`)})}).fail(function(){U("Ошибка загрузки цветов","danger")}),t.on("click",".control[data-type='color']",function(){let t=$(this),e=t.data("key"),n=c(M(e)).hex();if(t.hasClass("tinted"))return!1;_("#sidebar-colors",$(this).data("sidebar-title")),d.colorSelected=(t=>{j(e,t)}),d.colorDismiss=(()=>{j(e,n)}),$("#sidebar-colors .color-manual-input").val(n).trigger("change"),$(".control[data-type='color'], .color-box").removeClass("active"),$(this).addClass("active")}),t.on("click","#colors-list .color",function(){let t=$(this).data("color");$("#sidebar-colors .color-manual-input").val(t).trigger("change"),$(".color").removeClass("on"),$(this).addClass("on")}),t.on("click","#sidebar-colors .color-manual-box",function(){$(".color-manual-input").trigger("click")}),t.on("change","#sidebar-colors .color-manual-input",function(){let t=$(this).val();$("#colors-list .color.on").removeClass("on"),$(".color-manual-box").css("background",t),$(".color-manual-hex").val(t),d.colorSelected(t)}),t.on("input propetychange","#sidebar-colors .color-manual-hex",function(){let t=$(this).val();/^#[0-9A-F]{6}$/i.test(t)&&$("#sidebar-colors .color-manual-input").val(t).trigger("change")}),t.on("click","#sidebar-colors .accept",function(){_(!1)}),t.on("click","#sidebar-colors .close",function(){d.colorDismiss()}),t.on("click",".restore-palette",function(){let t=$(this).parents(".control").data("key");L({content:"Восстановить исходные цвета?",cancel:!0,onOk:function(){F(t.split(".")[0]),U("Палитра сброшена")}})});var o=t=>{let e=[];return t.find(".color-box").each(function(){e.push($(this).data("color"))}),e};t.on("click",".control[data-type='palette'] .color-box",function(){let t=$(this).parents(".control"),e=t.data("key"),n=c($(this).data("color")).hex();_("#sidebar-colors",t.data("sidebar-title")),d.colorSelected=(n=>{$(this).data("color",n),$(this).find(".color-box-inner").css("background",n),t.data("user-touched",!0),j(e,o(t))}),$("#sidebar-colors .color-manual-input").val(n).trigger("change"),d.colorDismiss=(()=>{$(this).data("color",n),$(this).children(".color-box-inner").css("background",n),t.data("user-touched",!0),j(e,o(t))}),$(".control[data-type='color'], .color-box").removeClass("active"),$(this).addClass("active")}),$.getJSON("json/gradients.json",function(t){t.forEach(function(t){let e="h:",n="background: linear-gradient(to right, ",o="";t.colors.forEach(function(t){o+=t+","}),e+=o=o.slice(0,-1),n+=o+")",$("#gradients-list").append(`<div class="gradient-col"><div class="gradient" data-gradient="${e}" style="${n}">${t.name}</div></div>`)})}).fail(function(){U("Ошибка загрузки цветов","danger")}),t.on("click",".gradient-from-lib",function(){let t=$(this).parents(".control"),e=t.data("key"),n=M(e);d.gradientSelected=(n=>{t.data("user-touched",!1),j(e,n)}),d.gradientDismiss=(()=>{t.data("user-touched",!1),j(e,n)}),_("#sidebar-gradients")}),t.on("click","#gradients-list .gradient",function(){let t=$(this).data("gradient");d.gradientSelected(t),$(".gradient").removeClass("on"),$(this).addClass("on")}),t.on("click","#sidebar-gradients .accept",function(){_(!1)}),t.on("click","#sidebar-gradients .close",function(){d.gradientDismiss()});var a=t=>{let e=t.find(".gradient-direction .on").data("val")+":";return t.find(".color-box").each(function(){e+=$(this).data("color")+","}),e.slice(0,-1)};t.on("click",".control[data-type='gradient'] .color-box",function(){let t=$(this).parents(".control"),e=t.data("key"),n=c($(this).data("color")).hex();_("#sidebar-colors",t.data("sidebar-title")),d.colorSelected=(n=>{$(this).data("color",n),$(this).find(".color-box-inner").css("background",n),t.data("user-touched",!0),j(e,a(t))}),$("#sidebar-colors .color-manual-input").val(n).trigger("change"),d.colorDismiss=(()=>{$(this).data("color",n),$(this).children(".color-box-inner").css("background",n),t.data("user-touched",!0),j(e,a(t))}),$(".control[data-type='color'], .color-box").removeClass("active"),$(this).addClass("active")}),t.on("click",".control[data-type='gradient'] .gradient-remove-step",function(){let t=$(this).parents(".control"),e=t.find(".color-box"),n=e.last(),o=t.find(".color-box.active");o.length&&(n=o),e.length>2?D(n,"bounceOut","faster",function(){n.remove(),t.data("user-touched",!0),j(t.data("key"),a(t))}):D(n)}),t.on("click",".control[data-type='gradient'] .gradient-add-step",function(){let t=$(this).parents(".control"),e=t.find(".color-box"),n=$("#colors-list .color-col").length,o=$("#colors-list .color-col").eq(Math.floor(Math.random()*n)).children(".color").data("color"),i=$('<div class="color-box"><div class="color-box-outer"></div><div class="color-box-inner"></div></div>');i.data("color",o),i.children(".color-box-inner").css("background",o),i.insertAfter(e.last()),D(i,"bounceIn"),t.data("user-touched",!0),j(t.data("key"),a(t))}),t.on("click",".control[data-type='gradient'] .gradient-direction div",function(){let t=$(this).parents(".control");$(this).addClass("on").siblings().removeClass("on"),t.data("user-touched",!0),j(t.data("key"),a(t))}),$.getJSON("json/fonts-google.json",function(t){t.forEach(function(t){var e=t[0],n=t[1],o=`<div class="font-col"><div class="font" data-family="${e}" title="${e}" style="background-position: ${t[2]}px ${t[3]}px;"></div><div class="font-caption">${e}</div></div>`;n.includes("cyrillic")?$(".fonts-list#google-rus").append(o):$(".fonts-list#google-eng").append(o)})}).fail(function(){U("Ошибка загрузки шрифтов Google","danger")}),$.getJSON("json/fonts-local.json",function(t){t.forEach(function(t){let e=t[0],n=`<div class="font-col"><div class="font" data-family="${e},${t[1]}" title="${e}" style="background-position: ${t[2]}px ${t[3]}px;"></div><div class="font-caption">${e}</div></div>`;$(".fonts-list#fonts-local").append(n)})}).fail(function(){U("Ошибка загрузки шрифтов TTF","danger")}),t.on("click",".control[data-type='font']",function(){let t,e=$(this).data("key"),n=$("#sidebar-fonts");_("#sidebar-fonts",$(this).data("sidebar-title")),t=e.split(".")[0],n.data("preview-string",M(t+".text")),n.data("preview-weight",M(t+".fontWeight")),d.fontSelected=(t=>{M(e)!=t&&(j(e,t),t.includes(",")&&(e.includes("title")&&j("title.fontWeight",400),e.includes("slogan")&&j("slogan.fontWeight",400)))})});var i=(t=!0)=>{t&&$(".fonts-filter").val(""),$(".fonts-list.filtered").removeClass("filtered"),$(".fonts-list.on .font-col").removeClass("hidden")};t.on("input",".fonts-filter",function(){let t=$(this).val().trim().toLowerCase(),e=null;t.length>1?(clearTimeout(e),e=setTimeout(function(){$(".fonts-list.on").addClass("filtered"),$(".fonts-list.on .font-col").each(function(){$(this).children(".font").data("family").toLowerCase().includes(t)?$(this).removeClass("hidden"):$(this).addClass("hidden")})},300)):i(!1)}),t.on("click",".fonts-filter-reset",function(){i()}),t.on("change","#font-categories",function(){let t=$(".fonts-lists .fonts-list#"+$(this).val());$(".fonts-filter"),i(),t.addClass("on").siblings().removeClass("on")}),t.on("click",".fonts-list .font",function(){let t=$(this).data("family"),e=$(this).parents(".sidebar"),n=$(".font-preview");$(".font").removeClass("on"),$(this).addClass("on"),n.addClass("loading"),T(t,function(){n.removeClass("loading").children("span").css("font-family",t.split(",")[0]).css("font-weight",e.data("preview-weight")).text(e.data("preview-string"))})}),t.on("click","#sidebar-fonts .accept",function(){let t=$("#sidebar-fonts").find(".font.on").data("family");t&&d.fontSelected(t),_(!1)})},f=(t,e)=>{$(`.control[data-key="${t}"]`).each(function(){var t=$(this),n=t.data("type");switch(t.data("user-touched")&&(n="skip"),n){case"canvas-size":e=e.replace(","," x "),t.find("b").text(e),$(".canvas-size-overlay span").text(e);break;case"image":t.find("img").attr("src",e);break;case"layout":t.find(".btn").removeClass("on"),t.find(`.btn[data-layout="${e}"]`).addClass("on");break;case"color":t.find(".color-box-inner").css("background-color",e).attr("data-color",e);break;case"gradient":let o=e.split(":")[0],a=e.split(":")[1].split(","),i=t.find(".gradient-colors");i.find(".color-box").remove(),t.find(`.gradient-direction div[data-val='${o}']`).addClass("on").siblings().removeClass("on"),a.reverse().forEach(t=>{$(`<div class="color-box" data-color="${t}"><div class="color-box-outer"></div><div class="color-box-inner" style="background:${t}"></div></div>`).prependTo(i)});break;case"palette":if("object"!=typeof e)break;let l=t.find(".gradient-colors");l.find(".color-box").remove(),e.forEach(t=>{$(`<div class="color-box" data-color="${t}"><div class="color-box-outer"></div><div class="color-box-inner" style="background:${t}"></div></div>`).appendTo(l)});break;case"font":t.find("span").text(e.split(",")[0]);break;case"text-align":$(this).children(`div[data-val="${e}"]`).addClass("on").siblings().removeClass("on"),t.parents(".control").children("textarea").css("text-align",e);break;case"textarea":t.children("textarea").val(e);break;case"range":t.children("input").val(parseFloat(e));break;case"check":let r,s=$(this).data("values").split("/");for(r=0;r<s.length;r++)"true"==s[r]&&(s[r]=!0),"false"==s[r]&&(s[r]=!1);e==s[0]?$(this).attr("checked","checked"):$(this).removeAttr("checked")}t.data("user-touched",!1)}),(()=>{let t=[["#options-tab-content-2 .panel","tint","icon.enabled",!1],["#options-tab-content-4 .panel","tint","slogan.enabled",!1],[".control[data-key='slogan.text']","tint","slogan.enabled",!1],[".control[data-key='icon.palette']","tint","icon.fillEnabled",!1],[".control[data-key='icon.palette'] .restore-palette","hide","icon.fillEnabled",!1],[".control[data-key='icon.hue']","tint","icon.fillEnabled",!0],[".title-row-gradient","hide","title.fillGradient",!1],[".control[data-key='title.fill']","tint","title.fillGradient",!0],[".slogan-row-gradient","hide","slogan.fillGradient",!1],[".control[data-key='slogan.fill']","tint","slogan.fillGradient",!0],[".control[data-key='title.backgroundColor']","tint","title.backgroundEnabled",!1],[".control[data-key='slogan.backgroundColor']","tint","slogan.backgroundEnabled",!1]];for(let e=0;e<t.length;e++){let n=$(t[e][0]),o=t[e][1],a=M(t[e][2]),i=t[e][3];"hide"==o&&(a==i?n.hide():n.show()),"tint"==o&&(a==i?n.addClass("tinted"):n.removeClass("tinted"))}})()},h=n(5),p=n(4),g=n(2),m=["Open Sans"],v=[],b={version:"01.06.2020",layout:"style-1",backgroundColor:"#ffffff",canvasSize:"700,440",renderer:"logo",icon:{enabled:!0,name:"icon",type:"image"},title:{fontSize:48,fontWeight:700,name:"title",text:"Название",type:"text"},slogan:{enabled:!0,fontSize:21,name:"slogan",text:"слоган",type:"text"}},y={angle:0,brightness:0,palette:[],type:"svg",file:"icons/default.svg",fillEnabled:!1,flipX:!1,flipY:!1,saturation:0,hue:0,opacity:1,scaleWidth:100,shadowColor:"#000000",shadowWidth:0,shadowX:0,shadowY:0,skewX:0,skewY:0,xOffset:0,yOffset:0},k={angle:0,backgroundColor:"#1DABB8",backgroundEnabled:!1,charSpacing:0,fill:"#000000",fillGradient:!1,flipX:!1,flipY:!1,fontFamily:"Open Sans",fontSize:24,fontStyle:"normal",fontWeight:400,gradient:"h:#ff0000,#ffff00",lineHeight:1,opacity:1,overline:!1,scale:1,shadowColor:"#000000",shadowWidth:0,shadowX:0,shadowY:0,skewX:0,skewY:0,stroke:"#000000",strokeWidth:0,text:"Текст",textAlign:"left",underline:!1,xOffset:0,yOffset:0},w={},x=t=>{for(let e in t)if(t[e].hasOwnProperty("type"))switch(t[e].type){case"image":t[e]=Object.assign({},y,t[e]);break;case"text":t[e]=Object.assign({},k,t[e])}return t},C=(t=!1)=>{let e,n;if(x(b),w=o(b),r||(fabric.Object.prototype.objectCaching=!1,r=new fabric.StaticCanvas("canvas",{stateful:!1})),t)try{e=JSON.parse(t),x(e)}catch(t){U("Ошибка загрузки параметров","danger"),e=w}else e=w;for(n in e=((t,e)=>{let n="18.06.2020 10:48";return t.version!=n&&(t.version=n,t.canvasSize||(t.canvasSize=t.canvasWidth+","+t.canvasHeight,delete t.canvasWidth,delete t.canvasHeight),t.title.gradientType&&t.title.gradientSteps&&(t.title.gradient=(t.title.gradientType+":"+t.title.gradientSteps).replace("horizontal","h").replace("vertical","v"),delete t.title.gradientType,delete t.title.gradientSteps),t.slogan.gradientType&&t.slogan.gradientSteps&&(t.slogan.gradient=(t.slogan.gradientType+":"+t.slogan.gradientSteps).replace("horizontal","h").replace("vertical","v"),delete t.slogan.gradientType,delete t.slogan.gradientSteps),delete t.gap,delete t.icon.fill,delete t.icon.fillStrokes,delete t.title.fontType,delete t.title.fontFile,delete t.title.localFont,delete t.title.linethrough,delete t.slogan.fontType,delete t.slogan.fontFile,delete t.slogan.localFont,"yes"==t.icon.enabled&&(t.icon.enabled=!0),"no"==t.icon.enabled&&(t.icon.enabled=!0),"yes"==t.icon.flipX&&(t.icon.flipX=!0),"no"==t.icon.flipX&&(t.icon.flipX=!1),"yes"==t.icon.flipY&&(t.icon.flipY=!0),"no"==t.icon.flipY&&(t.icon.flipY=!1),"yes"==t.icon.fillEnabled&&(t.icon.fillEnabled=!0),"no"==t.icon.fillEnabled&&(t.icon.fillEnabled=!1),"yes"==t.icon.fillStrokes&&(t.icon.fillStrokes=!0),"no"==t.icon.fillStrokes&&(t.icon.fillStrokes=!1),"yes"==t.title.underline&&(t.title.underline=!0),"no"==t.title.underline&&(t.title.underline=!1),"yes"==t.title.overline&&(t.title.overline=!0),"no"==t.title.overline&&(t.title.overline=!1),"yes"==t.title.fillGradient&&(t.title.fillGradient=!0),"no"==t.title.fillGradient&&(t.title.fillGradient=!1),"yes"==t.title.backgroundEnabled&&(t.title.backgroundEnabled=!0),"no"==t.title.backgroundEnabled&&(t.title.backgroundEnabled=!1),"yes"==t.title.flipX&&(t.title.flipX=!0),"no"==t.title.flipX&&(t.title.flipX=!1),"yes"==t.title.flipY&&(t.title.flipY=!0),"no"==t.title.flipY&&(t.title.flipY=!1),"yes"==t.slogan.enabled&&(t.slogan.enabled=!0),"no"==t.slogan.enabled&&(t.slogan.enabled=!1),"yes"==t.slogan.underline&&(t.slogan.underline=!0),"no"==t.slogan.underline&&(t.slogan.underline=!1),"yes"==t.slogan.overline&&(t.slogan.overline=!0),"no"==t.slogan.overline&&(t.slogan.overline=!1),"yes"==t.slogan.fillGradient&&(t.slogan.fillGradient=!0),"no"==t.slogan.fillGradient&&(t.slogan.fillGradient=!1),"yes"==t.slogan.backgroundEnabled&&(t.slogan.backgroundEnabled=!0),"no"==t.slogan.backgroundEnabled&&(t.slogan.backgroundEnabled=!1),"yes"==t.slogan.flipX&&(t.slogan.flipX=!0),"no"==t.slogan.flipX&&(t.slogan.flipX=!1),"yes"==t.slogan.flipY&&(t.slogan.flipY=!0),"no"==t.slogan.flipY&&(t.slogan.flipY=!1),t.icon.type="image",t.title.type="text",t.slogan.type="text",t.icon.name="icon",t.title.name="title",t.slogan.name="slogan",t.icon.colorShift&&(t.icon.hue=t.icon.colorShift,delete t.icon.colorShift),t.icon.grayscale&&(t.icon.saturation=t.icon.grayscale,delete t.icon.grayscale),delete t.logozaVersion),t})(e))if(e[n].hasOwnProperty("type"))switch(e[n].type){case"image":v[e[n].name]={};break;case"text":v[e[n].name]=new fabric.IText("")}a(e).forEach(function(t){j(t.key,t.val,!0)}),G(100)},S=(t=["icon"],e="#$%")=>{let n;return a(b).forEach(function(o){for(n=0;n<t.length;n++)if(!o.key.includes(e)&&o.key.includes(t[n])){j(o.key,o.val);break}}),1==t.length&&"icon"==t[0]&&F("icon"),!0},O=()=>JSON.stringify(w),M=t=>h.get(w,t),j=(t,e)=>{if(q(),(t=>!isNaN(parseFloat(t))&&isFinite(t))(e)&&(e=parseFloat(e)),t.includes(".file")){let n=t.split(".")[0];if(M(t)==e&&"icons/default.svg"!=e)return!1;E(n,e)}if(h.set(w,t,e),f(t,e),t.includes("fontFamily")&&T(e),"backgroundColor"==t&&r.setBackgroundColor(e),"canvasSize"==t){let t=parseInt(e.split(",")[0]),n=parseInt(e.split(",")[1]);r.setDimensions({width:t,height:n}).calcOffset(),$("canvas").attr("width",t).attr("height",n),G()}I(),clearInterval(s),s=setInterval(function(){I()},500)},T=(t,e=!1)=>{if(m.includes(t))return e&&e(),!0;!1===e&&Y(!0),t.includes(",")?$.get("php/font.php?family="+t+"&mode=css",function(n){$("<style>"+n+"</style>").appendTo("head"),m.push(t),e&&e()}):p.load({google:{families:[t+":100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"]},active:function(){m.push(t),e&&e()}})},E=(t,e)=>{let n,a;Y(!0),fabric.loadSVGFromURL(e,function(i,l){arguments.length>1?((n=new fabric.util.groupSVGElements(i,l)).originalFills=[],n.originalPalette=[],(a=n._objects?n._objects:[n]).forEach(function(t){let e,a=o(t.fill),i=o(t.stroke);if("object"!=typeof a)try{g(a)}catch(t){a=null}if("object"!=typeof i)try{g(i)}catch(t){i=null}if(n.originalFills.push([a,t.stroke]),a)if("object"==typeof a)for(e in a.colorStops)n.originalPalette.push(g(a.colorStops[e].color).hex());else n.originalPalette.push(g(a).hex());if(i)if("object"==typeof i)for(e in i.colorStops)n.originalPalette.push(g(i.colorStops[e].color).hex());else n.originalPalette.push(g(i).hex())}),n.originalPalette=n.originalPalette.filter(function(t,e){return n.originalPalette.indexOf(t)==e}),v[t]=n,f(t,e),M(t+".palette").length!=n.originalPalette.length&&j(t+".palette",o(n.originalPalette)),Y(!1),I()):(U("Ошибка загрузка иконки, загрузка по умолчанию.","danger"),j(t+".file","icons/default.svg"))})},F=t=>{j(t+".palette",o(v[t].originalPalette))},z=(t,e,n,o,a,i)=>{var l=Math.round(e.left+e.width*e.scaleX*(a-.5)-(t.left+t.width*t.scaleX*(n-.5))),r=Math.round(e.top+e.height*e.scaleY*(i-.5)-(t.top+t.height*t.scaleY*(o-.5)));t.left+=l,t.top+=r,t.setCoords()},I=(t=!1)=>{let e,n=v.icon,a=v.title,i=v.slogan;if(fabric.util.clearFabricFontCache(),!n.width)return!1;if((()=>{let t,e,n,o,a;for(t in w)if((e=w[t]).hasOwnProperty("type"))switch(n=e.name,o=e.type,a=v[n],o){case"image":a.set("centeredScaling",!0),a.scaleToWidth(e.scaleWidth),a.setShadow(e.shadowX+" "+e.shadowY+" "+e.shadowWidth+" "+e.shadowColor),a.set("skewX",-e.skewX),a.set("skewY",e.skewY),a.set("flipX",e.flipX),a.set("flipY",e.flipY),a.set("originX","center"),a.set("originY","center"),a.set("angle",0),a.set("opacity",e.opacity);break;case"text":if(delete a.backgroundColor,e.backgroundEnabled&&a.set("backgroundColor",e.backgroundColor),a.set("angle",0),a.set("charSpacing",e.charSpacing),a.set("dirty",!0),a.set("fill",e.fill),a.set("fillGradient",e.fillGradient),a.set("flipX",e.flipX),a.set("flipY",e.flipY),a.set("fontFamily",e.fontFamily.split(",")[0]),a.set("fontSize",e.fontSize),a.set("fontStyle",e.fontStyle),a.set("fontWeight",e.fontWeight),a.set("gradient",e.gradient),a.set("lineHeight",e.lineHeight),a.set("originX","center"),a.set("originY","center"),a.set("overline",e.overline),a.set("paintFirst","stroke"),a.set("scaleX",e.scale),a.set("scaleY",e.scale),a.set("skewX",-e.skewX),a.set("skewY",e.skewY),a.set("stroke",e.stroke),a.set("strokeLineJoin","round"),a.set("strokeWidth",e.strokeWidth),a.set("text",e.text.toString()),a.set("textAlign",e.textAlign),a.set("underline",e.underline),a.setShadow(e.shadowX+" "+e.shadowY+" "+e.shadowWidth+" "+e.shadowColor),a.shadow.affectStroke=!0,e.fillGradient){let t,n,o,i="linear",l=0,r=0,s=0,c=0,d=[],u=[];if("h"==(o=e.gradient.split(":")[0]).charAt(0)&&(s=a.width),"v"==o.charAt(0)){let t=e.fontSize/4,n=e.fontSize/4;r=t,c=a.height-n}if(d=e.gradient.split(":")[1].split(","),"r"==o.charAt(1)){let t=[...d];t.pop(),d=d.concat(t.reverse())}for(t=0;t<d.length;t++)u[n=t/(d.length-1)]=d[t];a.setGradient("fill",{type:i,x1:l,y1:r,x2:s,y2:c,colorStops:u})}a.set("opacity",e.opacity)}})(),!t)switch(w.layout){case"style-1":w.slogan.enabled&&z(i,a,0,0,0,1),z(n,a,1,.5,0,.5),n.left-=10;break;case"style-2":w.slogan.enabled&&z(i,a,1,0,1,1),z(n,a,0,.5,1,.5),n.left+=10;break;case"style-3":w.slogan.enabled&&z(i,a,.5,0,.5,1),z(n,a,.5,1,.5,0),n.top-=10;break;case"style-4":w.slogan.enabled&&z(i,a,.5,1,.5,0),z(n,a,.5,0,.5,1),n.top+=10;break;case"style-5":w.icon.enabled?(z(a,n,1,.5,0,.5),w.slogan.enabled&&z(i,n,0,.5,1,.5),a.left-=10,w.slogan.enabled&&(i.left+=10)):w.slogan.enabled&&(z(a,i,1,.5,0,.5),i.left+=10);break;case"style-6":w.icon.enabled?(z(a,n,.5,1,.5,0),w.slogan.enabled&&z(i,n,.5,0,.5,1),a.top-=10,w.slogan.enabled&&(i.top+=10)):w.slogan.enabled&&z(i,a,.5,0,.5,1);break;case"style-7":w.slogan.enabled&&z(a,i,1,.5,0,.5),z(n,a,1,.5,0,.5),n.left-=10,i.left+=10;break;case"style-8":w.slogan.enabled&&z(i,a,0,.5,1,.5),w.slogan.enabled?z(n,i,0,.5,1,.5):z(n,a,0,.5,1,.5),n.left+=10,a.left-=10}n.left+=w.icon.xOffset,n.top+=w.icon.yOffset,a.left+=w.title.xOffset,a.top+=w.title.yOffset,i.left+=w.slogan.xOffset,i.top+=w.slogan.yOffset,r.remove(...r.getObjects()),e=t?new fabric.Group([n]):w.slogan.enabled?w.icon.enabled?new fabric.Group([n,a,i]):new fabric.Group([a,i]):w.icon.enabled?new fabric.Group([n,a]):new fabric.Group([a]),r.add(e),e.setCoords(),e.center(),n.set("angle",w.icon.angle),a.set("angle",w.title.angle),i.set("angle",w.slogan.angle),w.icon.enabled&&((t,e)=>{let n,a=(e,n)=>{if("object"==typeof e){let t=o(e);for(let e in t.colorStops)t.colorStops[e].color=a(t.colorStops[e].color,n);return t}e=g(e);for(let o in n)switch(o){case"fill":let a=n[o];for(let n in t.originalPalette)if(e.hex()==t.originalPalette[n]){e=g(a[n]);break}break;case"brightness":e=e.lighten(n[o]);break;case"rotate":e=e.rotate(n[o]);break;case"saturation":e=e.saturate(n[o])}return e.hex()},i=(t,e,n)=>{"object"==typeof n?t[e].colorStops?t[e].colorStops=n.colorStops:t.setGradient(e,n):t.set(e,n)};n=t._objects?t._objects:[t],e.fillEnabled?n.forEach(function(n,o){n.fill&&t.originalFills[o][0]&&i(n,"fill",a(t.originalFills[o][0],{fill:e.palette,brightness:e.brightness,saturation:e.saturation})),n.stroke&&t.originalFills[o][1]&&i(n,"stroke",a(t.originalFills[o][1],{fill:e.palette,brightness:e.brightness,saturation:e.saturation}))}):n.forEach(function(n,o){n.fill&&t.originalFills[o][0]&&i(n,"fill",a(t.originalFills[o][0],{brightness:e.brightness,rotate:e.hue,saturation:e.saturation})),n.stroke&&t.originalFills[o][1]&&i(n,"stroke",a(t.originalFills[o][1],{brightness:e.brightness,rotate:e.hue,saturation:e.saturation}))})})(n,w.icon),r.renderAll(!0)},A={modal:'<div id="modal" class="modal"><div class="modal-bg"></div><div class="modal-frame"><div class="modal-body"><div class="modal-body-inner"><div class="modal-title"></div><div class="modal-close"><span class="oi" data-glyph="x"></span></div><div class="modal-content"></div><div class="modal-buttons"><button class="btn-ok btn btn-success"></button><button class="btn-cancel btn btn-primary"></button></div></div></div></div></div>',enterEmail:'<p><b>Для работы с сервисом нужно указать e-mail</b></p><p>Пожалуйста, введите вашу почту:</p><p><input type="text" name="input-email" value="{email}" placeholder="user@mail.ru"></p>',changeCanvasSize:'<p><b>Введите размер полотна</b></p><p>Минимум 50x50, максимум &ndash; 2000x2000</p><p><input type="number" min="50" max="2000" name="canvas-w"></input>&nbsp;x&nbsp;<input type="number" min="50" max="2000" name="canvas-h"></p>',download:'\n        <div class="download-area" status="prepare">\n            <div class="download-step download-prepare">\n                <p class="text-center"><img src="img/preloader.svg"></p>\n            </div>\n            <div class="download-step download-wait">\n                <p>Скачивание полного набора <b>(логотип в высоком разрешении с прозрачностью, векторный логотип, PDF-документ, иконка для сайта, mockup-ы, шрифты)</b> в данный момент платное.</p>\n                <p><b>Стоимость: <span style="font-size:24px">250 руб.</span> <span style="color:#00cc00">Оплатив один раз, вы получаете возможность скачивать логотипы и в дальнейшем.</span></b></p>\n                <p><b>Пример того, что вы получите: </b><a href="./logoza-ru-primer.zip">Скачать</a></p>\n                <p>Для оплаты нажмите кнопку &laquo;Отправить&raquo; Как только деньги поступят, начнется скачивание.</p>\n                <p><iframe class="iframe-yandex-pay" src="https://yoomoney.ru/quickpay/button-widget?targets=Логотипы в logoza.ru для {userEmail}&label=logoza.ru|{userEmail}&default-sum=250&button-text=12&any-card-payment-type=on&button-size=m&button-color=orange&quickpay=small&account=4100164134896&successURL=https%3A%2F%2Fapp.logoza.ru%2Fthanks.html" frameborder="0" allowtransparency="true" scrolling="no"></iframe></p>\n                <p class="check-pay-preloader" style="font-size:12px"><span>Проверка оплаты...<br>Это может занять 1-2 минуты</span><img src="img/preloader.svg"/></p>\n            </div>\n            <div class="download-step download-complete">\n                <p><b>Спасибо что воспользовались нашим сервисом!</b></p><p><a href="#" class="btn btn-warning btn-download-link"><span class="oi" data-glyph="download"></span>Скачать архив</a></p><p>По любым вопросам пишите в отзывы или группу вконтакте</p>\n            </div>\n        </div>\n    ',downloadFree:"Вы собираетесь скачать логотип в формате PNG с фоном. Спасибо что воспользовались нашим сервисом!",downloadZip:"Вы собираетесь скачать полный комплект графики для логотипа. Комплект включает в себя логотип, векторный логотип, PDF, шрифт, мокап",savedLogo:'<div class="mylogo-item" data-id="{id}"><div class="mylogo-item-image">{icon}</div><div class="mylogo-item-content"><div class="mylogo-item-title">{title}</div><div class="mylogo-item-date">{date}</div></div><div class="mylogo-item-actions"><button class="btn btn-success mylogo-item-getlink"><span class="oi" data-glyph="link-intact"></span></button><button class="btn btn-danger mylogo-item-remove"><span class="oi" data-glyph="x"></span></button></div></div>',linkToLogo:'<p>Это ссылка на Ваш логотип, скопируйте ее что бы поделиться с другими:</p><input type="text" class="link-to-logo-url" value="{link}" />',emoji:"← ↑ → ↓ ↔ ↕ ↖ ↗ ↘ ↙ ↚ ↛ ↜ ↝ ↞ ↟ ↠ ↡ ↢ ↣ ↤ ↥ ↦ ↧ ↨ ↩ ↪ ↫ ↬ ↭ ↮ ↯ ↰ ↱ ↲ ↳ ↴ ↵ ↶ ↷ ↸ ↹ ↺ ↻ ↼ ↾ ↿ ⇀ ⇁ ⇂ ⇃ ⇴ ⇵ ⇶ ⇷ ⇸ ⇹ ⇺ ⇻ ⇼ ⇽ ⇾ ⇿ ⇄ ⇅ ⇆ ⇇ ⇈ ⇉ ⇊ ⇋ ⇌ ⇍ ⇎ ⇏ ⇐ ⇑ ⇒ ⇓ ⇔ ⇕ ⇖ ⇗ ⇘ ⇙ ⇚ ⇜ ⇝ ⇞ ⇟ ⇠ ⇡ ⇢ ⇣ ⇤ ⇥ ⇦ ⇧ ⇨ ⇩ ⇪ ⇫ ⇬ ⇭ ⇮ ⇯ ⇰ ⇱ ⇲ ⇳ ─ ━ │ ┃ ┄ ┅ ┆ ┇ ┈ ┉ ┊ ┋ ┌ ┍ ┎ ┏ ┐ ┑ ┒ ┓ └ ┕ ┖ ┘ ┙ ┚ ┛ ├ ┝ ┞ ┟ ┠ ┡ ┢ ┣ ┤ ┥ ┦ ┧ ┨ ┩ ┪ ┫ ┬ ┭ ┮ ┯ ┰ ┱ ┲ ┳ ┴ ┵ ┶ ┷ ┸ ┹ ┺ ┻ ┼ ┽ ■ □ ▢ ▣ ▤ ▥ ▦ ▧ ▨ ▩ ▪ ▫ ▬ ▭ ▮ ▯ ▰ ▱ ▲ △ ▴ ▵ ▶ ▷ ▸ ▹ ► ▻ ▼ ▽ ▾ ▿ ◀ ◁ ◂ ◃ ◄ ◅ ◆ ◇ ◈ ◉ ◊ ○ ◌ ◍ ◎ ● ◐ ◑ ◒ ◓ ◔ ◕ ◗ ◘ ◙ ◚ ◛ ◜ ◝ ◞ ◟ ◠ ◡ ◢ ◣ ◤ ◥ ◦ ◧ ◨ ◩ ◪ ◫ ◬ ◭ ◮ ◯ ◰ ◱ ◲ ◳ ◴ ◵ ◶ ◷ ◸ ◹ ◺ ◻ ◼ ◽ ◿ ╋ ╍ ╎ ╏ ═ ║ ╒ ╓ ╔ ╕ ╖ ╗ ╘ ╙ ╚ ╛ ╜ ╝ ╞ ╟ ╠ ╡ ╢ ╣ ╤ ╥ ╦ ╧ ╨ ╩ ╪ ╫ ╬ ╭ ╮ ╯ ╰ ╱ ╲ ╳ ╴ ╵ ╶ ╷ ╸ ╹ ╺ ╻ ╼ ╽ ╾ ╿ ⬀ ⬁ ⬂ ⬃ ⬄ ⬅ ⬆ ⬇ ⬈ ⬉ ⬊ ⬋ ⬌ ⬍ ⬎ ⬏ ⬐ ⬑ ⬒ ⬓ ⬔ ⬕ ⬖ ⬗ ⬘ ⬙ ⬚ ⬛ ⬜ ⬝ ⬞ ⬟ ⬠ ⬡ ⬢ ⬣ ⬤ ⬥ ⬦ ⬧ ⬨ ⬩ ⬪ ⬫ ⬬ ⬭ ⬮ ⬯ ⬰ ⬱ ⬲ ⬳ ⬴ ⬵ ⬶ ⬷ ⬸ ⬹ ⬺ ⬻ ⬼ ⬽ ⬾ ⬿ ⭀ ⭁ ⭂ ⭃ ⭄ ⭅ ⭆ ⭇ ⭈ ⭉ ⭊ ⭋ ⭌ ⭐ ⭑ ⭒ ⭓ ⭔ ⭖ ⭗ ⭘ ⭙ 😀 😁 😂 😃 😄 😅 😆 😇 😈 😉 😊 😋 😌 😍 😎 😏 😐 😑 😒 😓 😔 😕 😖 😗 😘 😙 😚 😛 😜 😝 😞 😟 😠 😡 😢 😣 😤 😥 😦 😧 😨 😩 😪 😫 😬 😭 😮 😯 😰 😱 😲 😳 😴 😵 😶 😷 😸 😹 😺 😻 😼 😽 😾 😿 🙀 🙅 🙆 🙇 🙉 🙊 🙋 🙌 🙍 🙎 🙏 🌀 🌁 🌂 🌃 🌄 🌅 🌆 🌇 🌈 🌉 🌊 🌋 🌌 🌍 🌎 🌏 🌐 🌑 🌒 🌓 🌔 🌕 🌖 🌗 🌘 🌙 🌚 🌛 🌜 🌝 🌞 🌟 🌠 🌰 🌱 🌲 🌳 🌴 🌵 🌷 🌸 🌹 🌺 🌻 🌼 🌽 🌾 🌿 🍀 🍁 🍂 🍃 🍄 🍅 🍆 🍇 🍈 🍉 🍊 🍋 🍌 🍍 🍎 🍏 🍐 🍒 🍓 🍔 🍕 🍖 🍗 🍘 🍙 🍚 🍛 🍜 🍝 🍞 🍟 🍠 🍡 🍢 🍣 ✁ ✂ ✃ ✄ ✅ ✆ ✇ ✈ ✉ ✊ ✋ ✌ ✍ ✎ ✏ ✐ ✑ ✒ 🍥 🍦 🍧 🍨 🍩 🍪 🍫 🍬 🍭 🍮 🍯 🍰 🍱 🍲 🍳 🍴 🍵 🍶 🍷 🍸 🍹 🍺 🍻 🍼 🎀 🎁 🎂 🎃 🎄 🎅 🎆 🎇 🎈 🎉 🎊 🎋 🎌 🎍 🎎 🎏 🎐 🎑 🎒 🎓 🎠 🎡 🎢 🎣 🎤 🎥 🎦 🎧 🎨 🎩 🎪 🎫 🎬 🎭 🎮 🎯 🎰 🎱 🎲 🎳 🎴 🎵 🎶 🎷 🎸 🎹 🎺 🎻 🎽 🎾 🎿 🏀 🏁 🏂 🏃 🏄 🏅 🏆 🏇 🏈 🏉 🏊 🏠 🏡 🏢 🏣 🏤 🏥 🏦 🏧 🏨 🏩 🏪 🏫 🏬 🏭 🏮 🏯 🏰 🐀 🐁 🐂 🐃 🐄 🐆 🐇 🐈 🐉 🐊 🐋 🐌 🐍 🐎 🐏 🐐 🐑 🐒 🐓 🐔 🐕 🐖 🐗 🐘 🐙 🐚 🐛 🐜 🐝 🐞 🐟 🐠 🐡 🐢 🐣 🐤 🐥 🐦 🐧 🐨 🐩 🐪 🐫 🐬 🐭 🐮 🐯 🐰 🐱 🐲 🐳 🐴 🐵 🐶 🐷 🐸 🐹 🐺 🐻 🐼 🐽 🐾 👀 👂 👃 👄 👅 👆 👇 👈 👉 👊 👋 👌 👍 👎 👏 👑 👒 👓 👔 👕 👖 👗 👘 👙 👚 👛 👜 👝 👞 👟 👠 👡 👢 👣 👤 👥 👦 👧 👨 👩 👪 👫 👬 👭 👮 👯 👰 👱 👲 👳 👴 👵 👶 👷 👸 👹 👺 👻 👼 👽 👾 👿 💀 💁 💂 💃 💄 💅 💆 💇 💈 💉 💊 💋 💌 💍 💎 💏 💐 💑 💒 💓 💔 💕 💖 💗 💘 💙 💚 💛 💜 💝 💞 💟 💠 💡 💢 💣 💤 💥 💦 💧 💨 💩 💪 💫 💬 💭 💮 💯 💰 💱 💲 💳 💴 💵 💶 💷 💸 💹 💺 💻 💼 💽 💿 📀 📁 📂 📃 📄 📅 📆 📇 📈 📉 📊 📋 📌 📍 📎 📏 📐 📑 📒 📓 📔 📕 📖 📗 📘 📙 📚 📛 📜 📝 📞 📟 📠 📡 📢 📣 📤 📥 📦 📧 📨 📩 📪 📫 📬 📭 📮 📯 📰 📱 📲 📳 📴 📵 📶 📷 📹 📺 📻 📼 🔀 🔁 🔂 🔃 🔄 🔅 🔆 🔇 🔈 🔉 🔊 🔋 🔌 🔍 🔎 🔏 🔐 🔑 🔒 🔓 🔔 🔕 🔖 🔗 🔘 🔙 🔚 🔛 🔜 🔝 🔞 🔟 🔠 🔡 🔢 🔣 🔤 🔥 🔦 🔧 🔨 🔩 🔪 🔫 🔬 🔭 🔮 🔯 🔱 🔲 🔳 🔴 🔵 🔶 🔷 🔸 🔹 🔺 🔻 🔼 🔽 ❤ ❥ ❦ ❧ ❨ ❩ ❪ ❫ ❬ ❭ ❮ ❯ ❰ ❱ ❲ ❳ ❴ ❵ ❶ ❷ ❸ ❹ ❺ ❻ ❼ ❽ ❾ ❿ ➀ ➁ ➂ ➃ ➄ ➅ ➆ ➇ ➈ ➉ ➊ ➋ ➌ ➍ ➎ ➏ ➐ ➑ ➒ ➓ ➔ ➕ ➖ ➗ ➘ ➙ ➚ ➛ ➜ ➝ ➞ ➟ ➠ ➡ ➢ ➣ ➤ ➥ ➦ ➧ ➨ ➩ ➪ ➫ ➬ ➮ ➯ ➰ ➱ ➲ ➳ ➴ ➵ ➶ ➷ ➸ ➹ ➺ ➻ ➼ ➽ ➾ ➿ 🕐 🕑 🕒 🕓 🕔 🕕 🕖 🕗 🕘 🕙 🕚 🕛 🕜 🕝 🕞 🕟 🕠 🕡 🕣 🕤 🕥 🕦 🕧 ✓ ✔ ✕ ✖ ✗ ✘ ✙ ✚ ✛ ✜ ✝ ✞ ✟ ✠ ✡ ✢ ✣ ✤ ✥ ✦ ✧ ✨ ✩ ✪ ✫ ✬ ✭ ✮ ✯ ✰ ✱ ✲ ✳ ✴ ✵ ✶ ✷ ✸ ✹ ✺ ✻ ✼ ✽ ✾ ✿ ❀ ❁ ❂ ❃ ❄ ❅ ❆ ❇ ❈ ❉ ❊ ❋ ❌ ❍ ❎ ❏ ❐ ❑ ❒ ❓ ❔ ❕ ❖ ❗ ❘ ❙ ❚ ❛ ❜ ❝ ❞ ❟ ❠ ❢ ❣ ☀ ☁ ☂ ☃ ☄ ★ ☆ ☇ ☈ ☉ ☊ ☋ ☌ ☍ ☎ ☏ ☐ ☑ ☒ ☓ ☔ ☕ ☖ ☗ ☘ ☙ ☚ ☛ ☜ ☝ ☞ ☟ ☠ ☡ ☢ ☣ ☤ ☥ ☦ ☧ ☨ ☩ ☪ ☫ ☬ ☭ ☮ ☯ ☰ ☱ ☲ ☳ ☴ ☵ ☶ ☷ ☸ ☹ ☺ ☻ ☼ ☽ ☾ ☿ ♀ ♁ ♂ ♃ ♄ ♅ ♆ ♇ ♈ ♉ ♊ ♋ ♌ ♍ ♎ ♏ ♐ ♑ ♒ ♓ ♔ ♕ ♖ ♗ ♘ ♙ ♚ ♛ ♜ ♝ ♞ ♟ ♠ ♡ ♢ ♣"},P=100,N=null,X=null,Y=function(t){t?$(".canvas-wrap").addClass("loading"):(clearTimeout(N),N=setTimeout(function(){$(".canvas-wrap").removeClass("loading")},1e3))},_=(t,e=!1)=>{let n=$(`.sidebar${t}`),o=n.find(".sidebar-title");n.hasClass("opened")?D(o):($(".sidebar-second").removeClass("opened"),n.addClass("opened")),e?o.text(e):o.text(n.data("title"))},G=(t=!1,e=!1)=>{let n,o,a=$(".layout-right-middle-inner"),i=a.outerWidth(),l=a.outerHeight(),r=$("canvas"),s=$(".canvas-wrap"),c=2*parseInt(s.css("paddingTop"));t&&(e?P+=t:P=t,P<10&&(P=10),P>200&&(P=200)),$(".canvas-zoom span:nth-child(2)").text(P+"%"),s.css("width",Math.floor(r.attr("width")*P/100)+c+"px").css("height",Math.floor(r.attr("height")*P/100)+c+"px"),o=s.outerHeight(),n=s.outerWidth(),o<l?s.css("margin-top",Math.floor((l-o)/2)):s.css("margin-top",0),a.scrollTop((o-l)/2).scrollLeft((n-i)/2)},D=(t,e="headShake",n="faster",o=!1)=>{let a="animated "+e+" "+n,i=2e3;return"fast"==n&&(i=800),"faster"==n&&(i=500),t.removeClass(a).offset().width,t.addClass(a),setTimeout(function(){t.removeClass(a),o&&o()},i+100),t},W=t=>{let e=$.extend({},{show:!0,text:"Загрузка...",callback:function(){},timeout:!1},t),n=$("#preloader");e.show?n.fadeIn().find(".preloader-text").text(e.text):n.fadeOut(),e.timeout&&setTimeout(function(){n.fadeOut(),e.callback()},e.timeout)},L=t=>{let e,n,o=!1;e=t.id?t.id:"modal",$("#"+e).length?(n=$("#"+e),"modal"!=e&&(o=!0)):n=$(A.modal).appendTo("body").attr("id",e);let a=n.find(".modal-frame"),i=n.find(".modal-body"),l=n.find(".btn-ok"),r=n.find(".btn-cancel"),s=n.find(".modal-close"),c=n.find(".modal-title"),d=n.find(".modal-content"),u=!1,f=$.extend({},{id:!1,title:"Logoza",content:!1,type:"default",ok:!0,okText:"Ok",okClass:"success",onOk:()=>{},okClose:!0,cancel:!1,cancelText:"Отмена",cancelClass:"primary",onCancel:()=>{},show:!0},t);!o&&f.id&&(n.attr("id",f.id),n.attr("data-type",f.type));let h=function(t=!1){t&&(n=$("#"+t),i=n.find(".modal-body")),i.find(".modal-buttons .btn").prop("disabled",!0),n.removeClass("active"),"modal"==n.attr("id")&&(clearTimeout(X),X=setTimeout(function(){n.remove()},1e3))};return i.find(".modal-buttons .btn").prop("disabled",!1),"object"!=typeof t?!1===t?(h(),e):"string"==typeof t&&t.includes("close:")?(h(t.split(":")[1]),e):(D(i,t),e):(f.show&&(clearTimeout(X),D(i,"bounceIn"),n.addClass("on active"),setTimeout(function(){l.focus(),a[0].scrollTop=0},500)),o?e:(c.html(f.title),d.html(f.content),l.attr("class","btn btn-ok btn-"+f.okClass).text(f.okText),r.attr("class","btn btn-cancel btn-"+f.cancelClass).text(f.cancelText).hide(),l.off("click").on("click",function(){f.okClose&&h(),f.onOk()}),f.cancel&&r.show().off("click").on("click",function(){h(),f.onCancel()}),s.off("click").on("click",function(){h(),f.onCancel()}),i.off("mousedown").on("mousedown",function(){u=!0}),i.off("mouseup").on("mouseup",function(){u=!1}),a.off("click").on("click",function(t){u||t.target===this&&(h(),f.onCancel())}),e))},U=(t,e="info")=>{var n=$(`<div class="notify animated bounceInRight notify-${e}"><div class="notify-text">${t}</div></div>`).appendTo("#notifies");setTimeout(function(){n.removeClass("bounceInRight").addClass("bounceOutRight"),setTimeout(function(){n.remove()},1500)},5e3)},q=function(){$(".action-get-link").removeClass("saved"),$(".download-archive").removeClass("downloaded")},J="saved",R="logoza22022020",B="userMail",H={email:!1},V={timeout:null,attempts:0},Z={transparent:!1,favicon:!1,SVG:!1},K=()=>{let t=$("body");u(),function(){let t=$("body");t.on("click","*[data-toggle='sidebar']",function(){_($(this).data("target"),$(this).data("sidebar-title"))}),t.on("click","*[data-toggle='modal']",function(){L({id:$(this).data("target")})}),t.on("click",".sidebar .close, .sidebar-close, .layout-right",function(){_(!1)}),t.on("click",".options-tab",function(){let t=$(this);if(t.hasClass("on"))return!1;$(".options-tab").removeClass("on"),t.addClass("on"),$(".options-tab-content").removeClass("on"),$(".options-tab-content"+t.data("tab")).addClass("on"),($("#sidebar-colors").hasClass("opened")||$("#sidebar-fonts").hasClass("opened"))&&_(!1)}),t.on("click",".btn-reset-all",function(){L({content:"Начать заново?",cancel:!0,onOk:function(){setTimeout(function(){C()},300),_(!1),U("Настройки сброшены")}})}),t.on("click",".btn-reset-icon",function(){L({content:"Сбросить настройки иконки?",cancel:!0,onOk:function(){S(["icon"],".file"),_(!1),U("Настройки иконки сброшены")}})}),t.on("click",".btn-reset-title",function(){L({content:"Сбросить настройки названия?",cancel:!0,onOk:function(){S(["title"]),_(!1),U("Настройки заголовка сброшены")}})}),t.on("click",".btn-reset-slogan",function(){L({content:"Сбросить настройки слогана?",cancel:!0,onOk:function(){S(["slogan"]),_(!1),U("Настройки слогана сброшены")}})}),t.on("click",".canvas-zoom span:first-child",function(){G(-10,!0)}),t.on("click",".canvas-zoom span:last-child",function(){G(10,!0)}),t.on("wheel",".layout-right-middle-inner",function(t){t.originalEvent.deltaY<0?G(10,!0):G(-10,!0)}),t.on("keydown",function(e){27===e.keyCode&&t.removeClass("fullscreen").css("background-color","#2c3e50")}),t.on("click",function(){$(this).hasClass("fullscreen")&&t.removeClass("fullscreen").css("background-color","#2c3e50")}),t.on("click",".action-fullscreen",function(e){e.stopPropagation(),G(100),t.addClass("fullscreen").css("background-color",w.backgroundColor),setTimeout(function(){alert("Для выхода из полноэкранного режима нажмите ESC или кликните по экрану")},500)}),t.on("click",".action-download, .buy-panel-close",function(){$(".buy-panel").toggleClass("on")}),t.on("click",".download-canvas",function(){$(".buy-panel").toggleClass("on"),L({title:"Скачать логотип в формате PNG?",content:A.downloadFree,cancel:!0,onOk:function(){U("Скачивание..."),$("#downloader").attr("href",canvas.toDataURL()).attr("download","logoza.ru.png")[0].click()}})})}(),t.on("click",".preset",function(){$(this).addClass("on").siblings().removeClass("on")}),t.on("click",".mylogo-item",function(){$(this).addClass("on").siblings().removeClass("on")}),t.on("click","#sidebar-mylogos .accept",function(){let t=$(".mylogos-list .mylogo-item.on"),e=t.data("id");t.length&&L({content:"Использовать этот логотип?<br><b>Внимание!</b> выбор повлечет за собой сброс текущих настроек.",cancel:!0,onOk:function(){U("Загрузка логотипа...","info"),lt(e,"saved"),F("icon"),_(!1)}})}),t.on("click",".mylogo-item-getlink",function(){let t=$(this).parents(".mylogo-item").data("id");L({content:A.linkToLogo.replace("{link}",`https://app.logoza.ru/?logo=${t}`),cancel:!1})}),t.on("click",".link-to-logo-url",function(){$(this)[0].select(),document.execCommand("copy"),U("Скопировано в буфер обмена","info")}),t.on("click",".mylogo-item-remove",function(){let t=$(this).parents(".mylogo-item");L({content:"Удалить этот логотип из списка?",cancel:!0,onOk:function(){t.fadeOut(500,function(){it.remove(t.data("id"))})}})}),t.on("click",".user-email",function(){at()}),t.on("click",".action-get-link",function(){var t=$(this);t.hasClass("saved")?(_("#sidebar-mylogos"),U("Внесите изменения что бы снова сохранить")):L({content:"Сохранить этот логотип?",cancel:!0,onOk:function(){let e=O();U("Сохранение..."),$.post("php/crud.php",{mode:"save",email:H.email,json:e,to:"saved"},function(t){console.log(t);let e=new Date,n=e.toJSON().slice(0,10).replace(/-/g,".").split(".").reverse().join(".")+" "+e.getHours()+":"+e.getMinutes(),o=!1,a=w.title.text,i="";w.icon.enabled&&(o=w.icon.file),w.slogan.enabled&&(i=w.slogan.text);let l={id:t,date:n,icon:o,title:a,slogan:i};it.add(l);let r=$(".mylogos-list .mylogo-item").eq(0);r.css("opacity",0),_("#sidebar-mylogos"),setTimeout(function(){r.css("opacity",1).addClass("animated flipInX")},500)}),t.addClass("saved")}})}),t.on("click",".download-archive",function(){if($(this).hasClass("downloaded"))return $(".download-area").attr("status","complete"),L({id:"modal-download"}),!1;L({title:"Скачать архив с логотипом?",content:A.downloadZip,cancel:!0,onOk:function(){$(".buy-panel").removeClass("on"),Q()}})})},Q=()=>{if(!H.email)return ot(!0,!0),!1;$("#modal-download .modal-content").html(A.download.replace(/{userEmail}/g,H.email)),L({id:"modal-download"}),V.attempts=0,tt()},tt=()=>{console.log("Checking payment : attempt # "+V.attempts),V.attempts<=15&&$.get(`php/checkpay.php?email=${H.email}`,function(t){"OK"==t?(clearTimeout(V.timeout),U("Оплата поступила","success"),et(),$(".download-archive").addClass("downloaded")):($(".download-area").attr("status","wait"),V.attempts++,V.attempts>15&&(U("К сожалению, оплата не поступила.","danger"),L(!1)),V.timeout=setTimeout(function(){tt()},5e3))})},et=()=>{Z.transparent=null,Z.favicon=null,Y(!0),U("Создаем графику..."),Z.SVG=(()=>{function t(t){let e=!1;if(t.includes(",")){let n=t.split(","),o=n[0],a=n[1];e=`\n                <style type="text/css">\n                    @font-face {\n                        font-family: "${o}";\n                        src: url("${a}.woff") format("woff");\n                        src: url("${a}.ttf") format("truetype");\n                        font-weight: normal;\n                        font-style: normal;\n                        font-display: swap;\n                    }\n                </style>\n            `}else e=`\n                <style type="text/css">\n                    @import url(http://fonts.googleapis.com/css?family=${t.replace(/ /g,"+")}:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i)\n                </style>\n            `;return e}return r.toSVG().replace("Created with Fabric.js 3.6.3","Sdelano: LOGOZA.RU").replace("<defs>","<defs>\n"+t(w.title.fontFamily)+t(w.slogan.fontFamily))})(),(t=>{let e=w.icon.scaleWidth,n=w.canvasSize;var o=new Image;r.setBackgroundColor("transparent"),j("canvasSize","1024,1024"),j("icon.scaleWidth",512),I(!0),o.onload=function(){let t=document.createElement("canvas");t.width=256,t.height=256,t.getContext("2d").drawImage(o,0,0,t.width,t.height),(t=>{Z.favicon=t})(t.toDataURL())},o.src=l(r,!0),r.setBackgroundColor(w.backgroundColor),j("canvasSize",n),j("icon.scaleWidth",e),I()})(),(t=>{let e=new Image;e.onload=function(){let t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),(t=>{Z.transparent=t})(l(t))},e.src=(t=>{r.setBackgroundColor("transparent");let e=r.toDataURL({multiplier:t,enableRetinaScaling:!0});return r.setBackgroundColor(w.backgroundColor),e})(3)})();var t=setInterval(function(){Z.transparent&&Z.favicon&&(clearInterval(t),U("Создаем архив..."),$.post("php/exportzip.php",{email:H.email,json:O(),transparent:Z.transparent,favicon:Z.favicon,svg:Z.SVG},function(t){Y(!1),U("Все готово!","success"),$(".download-area").attr("status","complete"),$(".btn-download-link").attr("href",t),nt(t)}).fail(function(){clearInterval(t),U("Ошибка создания архива! попробуйте еще раз","danger")}))},300)},nt=t=>{$.post("./php/mailer.php",{email:H.email,archive:t,json:O()}).done(function(t){})},ot=(t=!1,e=!1)=>{let n=localStorage.getItem(B);n?(H.email=n,$(".user-email").addClass("on").find("span:last-child").text("Вы вошли")):t&&at(e)},at=(t=!1)=>{let e="";H.email&&(e=H.email),L({content:A.enterEmail.replace("{email}",e),cancel:!0,okClose:!1,onOk:function(){let e=$("input[name='input-email']").val();/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())?(H.email=e,localStorage.setItem(B,H.email),U("Почта изменена","success"),$(".user-email").addClass("on").find("span:last-child").text("Вы вошли"),t?(L(!1),Q()):L(!1)):(L("headShake"),U("Укажите почту правильно","danger"))}})};$(document).ready(function(t){W({show:!0,text:"Загрузка...",timeout:5e3,callback:function(){}}),$.get("php/presets.php",function(t){L({id:"modal-presets",title:"Шаблоны (раздел в стадии доработки)",type:"full",content:'<div class="presets-list on"></div>',okText:"Загрузить шаблон",okClose:!1,onOk:function(){let t=$(".presets-list.on .preset.on"),e=t.data("id");t.length&&L({content:"Использовать этот шаблон?<br><b>Внимание!</b> выбор шаблона повлечет за собой сброс текущих настроек.",cancel:!0,okClose:!0,onOk:function(){L("close:modal-presets"),U("Загрузка шаблона...","info"),lt(e,"presets"),F("icon"),_(!1)}})},onCancel:function(){},cancel:!0,show:!1}),$(".presets-list").html(t)}).fail(function(){U("Ошибка загрузки шаблонов","danger")}),K()});let it={logos:[],max:30,load:function(){let t=localStorage.getItem(J);if(t)try{this.logos=JSON.parse(t),this.draw()}catch(t){this.logos=[]}},save:function(){localStorage.setItem(J,JSON.stringify(this.logos))},add:function(t){this.logos.unshift(t),this.logos.length>this.max&&this.logos.pop(),this.save(),this.draw()},remove:function(t,e=!0){for(let e=0;e<this.logos.length;e++)if(this.logos[e].id==t){this.logos.splice(e,1);break}e&&$.post("php/crud.php",{mode:"delete",id:t},function(t){}),this.save(),this.draw()},clear:function(){this.logos=[],this.save(),this.draw()},draw:function(){let t="";this.logos.forEach(e=>{let n,o=`${e.title} ${e.slogan}`.trim();""==o&&(o="Без текста"),o.length>32&&(o=o.substring(0,32)+"..."),n=e.icon?`<img src="${e.icon}">`:"";let a=A.savedLogo.replace("{id}",e.id).replace("{date}",e.date).replace("{icon}",n).replace("{title}",o).replace("{slogan}",e.slogan);t+=a}),""==t&&(t="Список пуст"),$(".mylogos-list").html(t)}};function lt(t,e){Y(!0),$.post("php/crud.php",{mode:"load",id:t,from:e},function(e){"false"!=e?C(e):(it.remove(t,!1),U("Ошибка загрузки из БД","danger"),C())})}$(window).on("load",function(){let t=i("title"),e=i("slogan");W({show:!1}),$(".all-wrapper").addClass("loaded");let n,o,a=localStorage.getItem(R),l=i("logo"),r=i("preset");l||r?(n="saved",o=l,r&&(n="preset",o=r),lt(o,n)):a?(C(a),U("Последние изменения восстановлены","success")):C(),t&&j("title.text",decodeURIComponent(t.replace(/\+/g," "))),e&&j("slogan.text",decodeURIComponent(e.replace(/\+/g," "))),setInterval(function(){localStorage.setItem(R,O())},3e3),ot(),it.load(),L({id:"modal-download",title:"Скачать архив с логотипом",okText:"Закрыть",show:!1,cancel:!1,onCancel:function(){V.attempts=0,clearTimeout(V.timeout)},onOk:function(){V.attempts=0,clearTimeout(V.timeout)}})}),$(window).on("resize orientationchange",function(){G(100)});var rt={savePreset:()=>{let t=prompt("Заголовок шаблона"),e=canvas.toDataURL(),n=O();$.post("php/crud.php",{mode:"save",title:t,thumbnail:e,json:n,to:"preset"},function(t){L({content:"Сохранено как шаблон",cancel:!1})})},getJSON:()=>{console.log(O())},loadFromJSON:()=>{let t=prompt("Введи JSON");C(t)},sandbox:()=>{L(!1),L({title:"test",content:(()=>Math.random().toString(36).substr(2,9))()})}};window.admin=rt},function(t,e,n){var o;!function(){function a(t,e,n){return t.call.apply(t.bind,arguments)}function i(t,e,n){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,o),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function l(t,e,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:i).apply(null,arguments)}var r=Date.now||function(){return+new Date},s=!!window.FontFace;function c(t,e,n,o){if(e=t.c.createElement(e),n)for(var a in n)n.hasOwnProperty(a)&&("style"==a?e.style.cssText=n[a]:e.setAttribute(a,n[a]));return o&&e.appendChild(t.c.createTextNode(o)),e}function d(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var o=t.className.split(/\s+/),a=0;a<e.length;a+=1){for(var i=!1,l=0;l<o.length;l+=1)if(e[a]===o[l]){i=!0;break}i||o.push(e[a])}for(e=[],a=0;a<o.length;a+=1){for(i=!1,l=0;l<n.length;l+=1)if(o[a]===n[l]){i=!0;break}i||e.push(o[a])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(t,e){for(var n=t.className.split(/\s+/),o=0,a=n.length;o<a;o++)if(n[o]==e)return!0;return!1}function p(t,e,n){function o(){r&&a&&i&&(r(l),r=null)}e=c(t,"link",{rel:"stylesheet",href:e,media:"all"});var a=!1,i=!0,l=null,r=n||null;s?(e.onload=function(){a=!0,o()},e.onerror=function(){a=!0,l=Error("Stylesheet failed to load"),o()}):setTimeout(function(){a=!0,o()},0),d(t,"head",e)}function g(t,e,n,o){var a=t.c.getElementsByTagName("head")[0];if(a){var i=c(t,"script",{src:e}),l=!1;return i.onload=i.onreadystatechange=function(){l||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(l=!0,n&&n(null),i.onload=i.onreadystatechange=null,"HEAD"==i.parentNode.tagName&&a.removeChild(i))},a.appendChild(i),setTimeout(function(){l||(l=!0,n&&n(Error("Script load timeout")))},o||5e3),i}return null}function m(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,y(t)}}function b(t,e){t.c=e,y(t)}function y(t){0==t.a&&t.c&&(t.c(),t.c=null)}function k(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function $(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var o=t[n].replace(/['"]/g,"");-1!=o.indexOf(" ")||/^\d/.test(o)?e.push("'"+o+"'"):e.push(o)}return e.join(",")}function x(t){return t.a+t.f}function C(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,n="n",o=null;return t&&((o=t.match(/(normal|oblique|italic)/i))&&o[1]&&(n=o[1].substr(0,1).toLowerCase()),(o=t.match(/([1-9]00|normal|bold)/i))&&o[1]&&(/bold/i.test(o[1])?e=7:/[1-9]00/.test(o[1])&&(e=parseInt(o[1].substr(0,1),10)))),n+e}function O(t){if(t.g){var e=h(t.f,t.a.c("wf","active")),n=[],o=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,o)}M(t,"inactive")}function M(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,x(n)):t.h[e]())}function j(t,e){this.c=t,this.f=e,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function T(t){d(t.c,"body",t.a)}function E(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+$(t.c)+";font-style:"+C(t)+";font-weight:"+t.f+"00;"}function F(t,e,n,o,a,i){this.g=t,this.j=e,this.a=o,this.c=n,this.f=a||3e3,this.h=i||void 0}function z(t,e,n,o,a,i,l){this.v=t,this.B=e,this.c=n,this.a=o,this.s=l||"BESbswy",this.f={},this.w=a||3e3,this.u=i||null,this.m=this.j=this.h=this.g=null,this.g=new j(this.c,this.s),this.h=new j(this.c,this.s),this.j=new j(this.c,this.s),this.m=new j(this.c,this.s),t=E(t=new w(this.a.c+",serif",x(this.a))),this.g.a.style.cssText=t,t=E(t=new w(this.a.c+",sans-serif",x(this.a))),this.h.a.style.cssText=t,t=E(t=new w("serif",x(this.a))),this.j.a.style.cssText=t,t=E(t=new w("sans-serif",x(this.a))),this.m.a.style.cssText=t,T(this.g),T(this.h),T(this.j),T(this.m)}k.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},F.prototype.start=function(){var t=this.c.o.document,e=this,n=r(),o=new Promise(function(o,a){!function i(){r()-n>=e.f?a():t.fonts.load(function(t){return C(t)+" "+t.f+"00 300px "+$(t.c)}(e.a),e.h).then(function(t){1<=t.length?o():setTimeout(i,25)},function(){a()})}()}),a=null,i=new Promise(function(t,n){a=setTimeout(n,e.f)});Promise.race([i,o]).then(function(){a&&(clearTimeout(a),a=null),e.g(e.a)},function(){e.j(e.a)})};var I={D:"serif",C:"sans-serif"},A=null;function P(){if(null===A){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);A=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return A}function N(t,e,n){for(var o in I)if(I.hasOwnProperty(o)&&e===t.f[I[o]]&&n===t.f[I[o]])return!0;return!1}function X(t,e){setTimeout(l(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.m.a),e(this.a)},t),0)}function Y(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}z.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=r(),function t(e){var n,o=e.g.a.offsetWidth,a=e.h.a.offsetWidth;(n=o===e.f.serif&&a===e.f["sans-serif"])||(n=P()&&N(e,o,a)),n?r()-e.A>=e.w?P()&&N(e,o,a)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?X(e,e.v):X(e,e.B):function(e){setTimeout(l(function(){t(this)},e),50)}(e):X(e,e.v)}(this)};var _=null;function G(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),M(t,"active")):O(t.a))}function D(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function W(t,e,n,o,a){var i=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=a||null,r=o||{};if(0===n.length&&i)O(e.a);else{e.f+=n.length,i&&(e.j=i);var s,c=[];for(s=0;s<n.length;s++){var d=n[s],u=r[d.c],h=e.a,p=d;if(h.g&&f(h.f,[h.a.c("wf",p.c,x(p).toString(),"loading")]),M(h,"fontloading",p),h=null,null===_)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);_=p?42<parseInt(p[1],10):!g}else _=!1;h=_?new F(l(e.g,e),l(e.h,e),e.c,d,e.s,u):new z(l(e.g,e),l(e.h,e),e.c,d,e.s,t,u),c.push(h)}for(s=0;s<c.length;s++)c[s].start()}},0)}function L(t,e){this.c=t,this.a=e}function U(t,e){this.c=t,this.a=e}Y.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,x(t).toString(),"active")],[e.a.c("wf",t.c,x(t).toString(),"loading"),e.a.c("wf",t.c,x(t).toString(),"inactive")]),M(e,"fontactive",t),this.m=!0,G(this)},Y.prototype.h=function(t){var e=this.a;if(e.g){var n=h(e.f,e.a.c("wf",t.c,x(t).toString(),"active")),o=[],a=[e.a.c("wf",t.c,x(t).toString(),"loading")];n||o.push(e.a.c("wf",t.c,x(t).toString(),"inactive")),f(e.f,o,a)}M(e,"fontinactive",t),G(this)},D.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var o=[],a=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),M(t,"loading")}(e);o=function(t,e,n){var o,a=[];for(o in e)if(e.hasOwnProperty(o)){var i=t.c[o];i&&a.push(i(e[o],n))}return a}(t.a,n,t.c);var i=new Y(t.c,e,a);for(t.h=o.length,e=0,n=o.length;e<n;e++)o[e].load(function(e,n,o){W(t,i,e,n,o)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new k("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},L.prototype.load=function(t){var e=this,n=e.a.projectId,o=e.a.version;if(n){var a=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(o?"?v="+o:""),function(o){o?t([]):(a["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(a["__mti_fntLst"+n]){var o,i=a["__mti_fntLst"+n](),l=[];if(i)for(var r=0;r<i.length;r++){var s=i[r].fontfamily;void 0!=i[r].fontStyle&&void 0!=i[r].fontWeight?(o=i[r].fontStyle+i[r].fontWeight,l.push(new w(s,o))):l.push(new w(s))}t(l)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},U.prototype.load=function(t){var e,n,o=this.a.urls||[],a=this.a.families||[],i=this.a.testStrings||{},l=new m;for(e=0,n=o.length;e<n;e++)p(this.c,o[e],v(l));var r=[];for(e=0,n=a.length;e<n;e++)if((o=a[e].split(":"))[1])for(var s=o[1].split(","),c=0;c<s.length;c+=1)r.push(new w(o[0],s[c]));else r.push(new w(o[0]));b(l,function(){t(r,i)})};var q={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},R={i:"i",italic:"i",n:"n",normal:"n"},B=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function H(t,e){this.c=t,this.a=e}var V={Arimo:!0,Cousine:!0,Tinos:!0};function Z(t,e){this.c=t,this.a=e}function K(t,e){this.c=t,this.f=e,this.a=[]}H.prototype.load=function(t){var e=new m,n=this.c,o=new function(t,e){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),a=this.a.families;!function(t,e){for(var n=e.length,o=0;o<n;o++){var a=e[o].split(":");3==a.length&&t.f.push(a.pop());var i="";2==a.length&&""!=a[1]&&(i=":"),t.a.push(a.join(i))}}(o,a);var i=new function(t){this.f=t,this.a=[],this.c={}}(a);!function(t){for(var e=t.f.length,n=0;n<e;n++){var o=t.f[n].split(":"),a=o[0].replace(/\+/g," "),i=["n4"];if(2<=o.length){var l;if(l=[],r=o[1])for(var r,s=(r=r.split(",")).length,c=0;c<s;c++){var d;if((d=r[c]).match(/^[\w-]+$/))if(null==(u=B.exec(d.toLowerCase())))d="";else{if(d=null==(d=u[2])||""==d?"n":R[d],null==(u=u[1])||""==u)u="4";else var u=J[u]||(isNaN(u)?"4":u.substr(0,1));d=[d,u].join("")}else d="";d&&l.push(d)}0<l.length&&(i=l),3==o.length&&(l=[],0<(o=(o=o[2])?o.split(","):l).length&&(o=q[o[0]])&&(t.c[a]=o))}for(t.c[a]||(o=q[a])&&(t.c[a]=o),o=0;o<i.length;o+=1)t.a.push(new w(a,i[o]))}}(i),p(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],o=0;o<e;o++)n.push(t.a[o].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(o),v(e)),b(e,function(){t(i.a,i.c,V)})},Z.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var o=[],a=0;a<e.length;a+=2)for(var i=e[a],l=e[a+1],r=0;r<l.length;r++)o.push(new w(i,l[r]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(o)}},2e3):t([])},K.prototype.load=function(t){var e=this.f.id,n=this.c.o,o=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var a=0,i=n.fonts.length;a<i;++a){var l=n.fonts[a];o.a.push(new w(l.name,S("font-weight:"+l.weight+";font-style:"+l.style)))}t(o.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var Q=new D(window);Q.a.c.custom=function(t,e){return new U(e,t)},Q.a.c.fontdeck=function(t,e){return new K(e,t)},Q.a.c.monotype=function(t,e){return new L(e,t)},Q.a.c.typekit=function(t,e){return new Z(e,t)},Q.a.c.google=function(t,e){return new H(e,t)};var tt={load:l(Q.load,Q)};void 0===(o=function(){return tt}.call(e,n,e,t))||(t.exports=o)}()},function(t,e,n){var o,a,i;!function(n,l){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=l():(a=[],void 0===(i="function"==typeof(o=l)?o.apply(e,a):o)||(t.exports=i))}(0,function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(a(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function o(e){return t.call(e)}var a=Array.isArray||function(e){return"[object Array]"===t.call(e)};function i(t){var e=parseInt(t);return e.toString()===t?e:t}function l(t){t=t||{};var l=function(t){return Object.keys(l).reduce(function(e,n){return"create"===n?e:("function"==typeof l[n]&&(e[n]=l[n].bind(l,t)),e)},{})};function r(n,o){return t.includeInheritedProps||"number"==typeof o&&Array.isArray(n)||e(n,o)}function s(t,e){if(r(t,e))return t[e]}function c(t,e,n,o){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return c(t,e.split(".").map(i),n,o);var a=e[0],l=s(t,a);return 1===e.length?(void 0!==l&&o||(t[a]=n),l):(void 0===l&&("number"==typeof e[1]?t[a]=[]:t[a]={}),c(t[a],e.slice(1),n,o))}return l.has=function(n,o){if("number"==typeof o?o=[o]:"string"==typeof o&&(o=o.split(".")),!o||0===o.length)return!!n;for(var l=0;l<o.length;l++){var r=i(o[l]);if(!("number"==typeof r&&a(n)&&r<n.length||(t.includeInheritedProps?r in Object(n):e(n,r))))return!1;n=n[r]}return!0},l.ensureExists=function(t,e,n){return c(t,e,n,!0)},l.set=function(t,e,n,o){return c(t,e,n,o)},l.insert=function(t,e,n,o){var i=l.get(t,e);o=~~o,a(i)||(i=[],l.set(t,e,i)),i.splice(o,0,n)},l.empty=function(t,e){var i,s;if(!n(e)&&null!=t&&(i=l.get(t,e))){if("string"==typeof i)return l.set(t,e,"");if("boolean"==typeof i||"[object Boolean]"===o(i))return l.set(t,e,!1);if("number"==typeof i)return l.set(t,e,0);if(a(i))i.length=0;else{if("object"!=typeof i||"[object Object]"!==o(i))return l.set(t,e,null);for(s in i)r(i,s)&&delete i[s]}}},l.push=function(t,e){var n=l.get(t,e);a(n)||(n=[],l.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},l.coalesce=function(t,e,n){for(var o,a=0,i=e.length;a<i;a++)if(void 0!==(o=l.get(t,e[a])))return o;return n},l.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return l.get(t,e.split("."),n);var o=i(e[0]),a=s(t,o);return void 0===a?n:1===e.length?a:l.get(t[o],e.slice(1),n)},l.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(n(e))return t;if("string"==typeof e)return l.del(t,e.split("."));var o=i(e[0]);return r(t,o)?1!==e.length?l.del(t[o],e.slice(1)):(a(t)?t.splice(o,1):delete t[o],t):t},l}var r=l();return r.create=l,r.withInheritedProps=l({includeInheritedProps:!0}),r})},function(t,e,n){var o=n(0);function a(t){var e=function(){for(var t={},e=Object.keys(o),n=e.length,a=0;a<n;a++)t[e[a]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var a=n.pop(),i=Object.keys(o[a]),l=i.length,r=0;r<l;r++){var s=i[r],c=e[s];-1===c.distance&&(c.distance=e[a].distance+1,c.parent=a,n.unshift(s))}return e}function i(t,e){return function(n){return e(t(n))}}function l(t,e){for(var n=[e[t].parent,t],a=o[e[t].parent][t],l=e[t].parent;e[l].parent;)n.unshift(e[l].parent),a=i(o[e[l].parent][l],a),l=e[l].parent;return a.conversion=n,a}t.exports=function(t){for(var e=a(t),n={},o=Object.keys(e),i=o.length,r=0;r<i;r++){var s=o[r];null!==e[s].parent&&(n[s]=l(s,e))}return n}},function(t,e,n){var o=n(0),a=n(6),i={};Object.keys(o).forEach(function(t){i[t]={},Object.defineProperty(i[t],"channels",{value:o[t].channels}),Object.defineProperty(i[t],"labels",{value:o[t].labels});var e=a(t);Object.keys(e).forEach(function(n){var o=e[n];i[t][n]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var o=n.length,a=0;a<o;a++)n[a]=Math.round(n[a]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(o),i[t][n].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(o)})}),t.exports=i},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,n){"use strict";var o=n(8),a=Array.prototype.concat,i=Array.prototype.slice,l=t.exports=function(t){for(var e=[],n=0,l=t.length;n<l;n++){var r=t[n];o(r)?e=a.call(e,i.call(r)):e.push(r)}return e};l.wrap=function(t){return function(){return t(l(arguments))}}},function(t,e,n){var o=n(1),a=n(9),i={};for(var l in o)o.hasOwnProperty(l)&&(i[o[l]]=l);var r=t.exports={to:{},get:{}};function s(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}r.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=r.get.hsl(t),n="hsl";break;case"hwb":e=r.get.hwb(t),n="hwb";break;default:e=r.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},r.get.rgb=function(t){if(!t)return null;var e,n,a,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(a=e[2],e=e[1],n=0;n<3;n++){var l=2*n;i[n]=parseInt(e.slice(l,l+2),16)}a&&(i[3]=Math.round(parseInt(a,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(a=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);a&&(i[3]=Math.round(parseInt(a+a,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(i=o[e[1]])?(i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=s(i[n],0,255);return i[3]=s(i[3],0,1),i},r.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(n)?1:n,0,1)]}return null},r.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(n)?1:n,0,1)]}return null},r.to.hex=function(){var t=a(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},r.to.rgb=function(){var t=a(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},r.to.rgb.percent=function(){var t=a(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+o+"%)":"rgba("+e+"%, "+n+"%, "+o+"%, "+t[3]+")"},r.to.hsl=function(){var t=a(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},r.to.hwb=function(){var t=a(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},r.to.keyword=function(t){return i[t.slice(0,3)]}},,,,,,,function(t,e){}]);